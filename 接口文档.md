# 接口文档
## 备注
负责人：刘鹏昊

## 0
* url:/api/v1
* 返回值形式：
  ```
  {
  "status":200,
  "message":"OK",
  "data":...,
  "time":
  }
  ```
* 部门代号
* 校区 - campus
  * 0 中心校区
  * 1 洪家楼校区
  * 2 趵突泉校区
  * 3 兴隆山校区
  * 4 软件园校区
  * 5 千佛山校区
* 事业群 - group
  * 1 技术
  * 2 应用
  * 3 网媒
  * 4 团队
* 部门 - department
  * 10 技术-视觉
  * 11 技术-web
  * 12 技术-移动
  * 20 应用-i山大
  * 21 应用-Q小线
  * 22 应用-知道
  * 30 网媒-小树林日报
  * 31 网媒-图视中心
  * 32 网媒-有盐

## 具体请求

### 登录注册
* #### 登陆
  ```
  POST /login
  ```
  ##### Input
  |Name|Type|Description|
  |---|---|---|
  |studentId|string|学号|  
  |password|string|教务系统密码|
 
* #### 注销
  ```
  POST /logout
  ```

### 用户
用户信息  

| Name | Type | Description |
| ------ | ------ | ----|
| id |number| 对应用户的唯一标志，后续所有增删改查均以这个为准  |
| name | string | 姓名 |
| sex | string | 性别 值有两个 男、女 |
| stu_no| string| 学号 |
| campus | string | 校区代号 |
| academy | string | 学院 |
| from | string | 籍贯 |
| tel|string| 手机号 |
| qq | string | QQ |

#### 获取用户信息
```
GET /user
```  
##### Input
空
##### response  
```
{
"status":200,
"data":{
    "studentName":"刘鹏昊",
    "studentId":"201600000000",
    "phoneNumber":"123456"，
    "area":0
}
} 
```

#### 修改用户信息
*学号studentId不可由用户更改*
```
POST /user
```  
##### Input
要修改的字段

### 其他

#### 获取报名截止日期
```
GET /deadline
```
##### response  
```
{
"status":200,
"data":"2018-07-16T02:33:43.108+0000"
}
```

#### 提交报名表
*报名表可在截止日期前修改，可选择报一个或两个部门*
```
POST /form
```
##### Input
| Name | Type | Description |
| ------ | ------ | ----|
| intention | string | 部门代号 |  
|introduction | string | 简介，纯文本 |

*当有第二意愿部门时 填写如下字段*

| Name | Type | Description |
| ------ | ------ | ----|
| intention2 | string | 第二个部门代号 | 

#### 获取招新进程
**stage**
* 1 报名表提交阶段：在截止日期之前 
* 2 报名表审核阶段：截止日期之后 确定面试结果之前
* 3 面试未通过
* 4 试用期阶段：面试完成之后，试用期结束之前
* 5 未通过试用期
* 6 通过试用期 正式成为学线成员  
```
GET /process
```
##### response
 ```
 {
 "status":200,
 "data":[
     {
         "intention":部门代号,
         stage:（见desc）
     },
     ...
 ]
 }
 ``` 


#### 获取试用期内作业完成情况

workStatus:
* 已提交0:已经完成提交
* 未提交1:错过提交截止日期
* 暂未提交2:虽然未提交但仍处于可提交的状态  

*仅显示在试用期阶段内的意向部门的试用期作业完成情况*

```
GET /work
```  
##### response  
```
{
"status":200,
"data":[
    {
        "intention":意向部门代号,
        works:[
            {
                "workName":"第一周作业",
                "workStatus":0/1/2,
                "score":90
            },
            ...
        ],
        
        
    },
    ...
]
}
```
